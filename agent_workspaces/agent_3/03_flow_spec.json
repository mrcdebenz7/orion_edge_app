{
    "bot_name": "[BotName]",
    "brand": "[Store Name]",
    "platform": "web|messenger",
    "variables": {
        "user_id": "string",
        "email": "string|null",
        "email_optin": "boolean|null",
        "topic": "enum[tracking,shipping,returns,payment,sizing,intl,other]",
        "matched_faq": "boolean",
        "response_text": "string"
    },
    "notes": {
        "sizing_fit": "See vertical packs for utterances/examples (docs/kit/faqpacks/*.json)",
        "order_status": "See vertical packs for utterances/examples (docs/kit/faqpacks/*.json)"
    },
    "nodes": [
        {
            "id": "start",
            "type": "start",
            "next": "greeting"
        },
        {
            "id": "greeting",
            "type": "message",
            "text": "Hi! I’m [BotName], an AI assistant for [Store Name].",
            "next": "menu_router"
        },
        {
            "id": "fallback_ai",
            "type": "llm",
            "system_prompt": "See fallback prompt",
            "on": {
                "matched_faq=true": "answer_ai",
                "matched_faq=false": "unknown_handler"
            }
        },
        {
            "id": "answer_ai",
            "type": "message",
            "text_var": "response_text",
            "next": "end"
        },
        {
            "id": "unknown_handler",
            "type": "form",
            "copy": "I’m not sure on that. Let me have a teammate follow up—what’s your email?",
            "footer": "Messenger: Replies may be delayed outside the 24-hour window.",
            "fields": [
                {
                    "name": "email",
                    "type": "email",
                    "required": true
                },
                {
                    "name": "email_optin",
                    "type": "boolean",
                    "label": "I consent to be contacted about this question only.",
                    "required": true
                }
            ],
            "next": "end"
        },
        {
            "id": "end",
            "type": "end"
        }
    ]
}
